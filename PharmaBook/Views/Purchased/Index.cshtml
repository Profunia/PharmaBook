
@{
    ViewData["Title"] = "Index";
}

<h2>Purchased Inbox</h2>
<div class="blankpage-main" ng-controller="PurchasedInboxController">
    <div ng-show="!childPoView && !purchasedEntryView">


        <div class="row">
            <div class="col-xs-6">
                <span>Total PO Created:</span> <strong> {{masterPo.length}}</strong> <br/>
                
               
            </div>
            <div class="col-xs-4">
                <label>Filter : </label>
                @*<input type="text" placeholder="search" ng-model="search" class="form-control" />*@
                <label class="radio-inline"><input type="radio" name="optradio" checked ng-click="onInboxFiler('Open')" >Open</label>
                <label class="radio-inline"><input type="radio" name="optradio" ng-click="onInboxFiler('Closed')">Closed</label>
                <label class="radio-inline"><input type="radio" name="optradio" ng-click="onInboxFiler('All')">All</label>

            </div>
        </div>
        <hr />
        <table class="table table-striped table-advance table-hover">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Vendor</th>
                    <th>Created Date</th>
                    <th>No Of Medicine</th>
                    <th>Status</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in masterPo| filter:inboxfiler">
                    <td>
                        {{$index + 1}}
                        
                    </td>
                    <td>
                        {{item.vendorName }}<br /> {{item.vendorCompany}}
                        <br />{{item.vendorAddress}}, {{item.vendorContact}}
                    </td>
                    <td>{{item.placedOrder}}</td>
                    <td>{{item.noOfItems}}</td>
                    <td>{{item.status}}</td>
                    <td><a ng-click="childDetails(item);" style="cursor:pointer;">View details</a></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div ng-show="childPoView && !purchasedEntryView">
        <div class="row">
            <div class="col-xs-6">
                <label>Total Medicine: <strong> {{childPO.cpoList.length}}</strong> </label><br /> 
                <label>Vendor : </label> 
                {{childPO.vendorName }}, {{childPO.vendorCompany}}, {{childPO.vendorAddress}}, {{childPO.vendorContact}}                
            </div>
            <div class="col-xs-6">

               <button class="btn btn-primary" ng-click="backtoPurchased();">
                   << Purchased Order Inbox
               </button>
                <button class="btn btn-primary" ng-click="CreatePurchased();" style="float:right">
                    Create Purchased 
                </button>
            </div>
        </div>
        <table class="table table-striped table-advance table-hover">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Product ID</th>
                    <th>Name</th>
                    <th>Mfg</th>
                    <th>Qty</th>
                    <th>Remark</th> 
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in childPO.cpoList">
                    <td>
                        {{$index + 1}}
                    </td>
                    <td>{{item.productID}} </td>
                    <td>{{item.productName}}</td>
                    <td>{{item.mfg}}</td>
                    <td>{{item.qty}}</td>
                    <td>{{item.remarks}}</td>
                    <td> <a href="" ng-click="DeletePurchasedItem(item)"><span style="color:red;"> X </span></a> </td>
                </tr>
            </tbody>
        </table>
    </div>
   
    <div ng-show="purchasedEntryView">
        
        <div ng-show="!isSuccessPOEntry">



            <div class="row">
                <div class="col-xs-4">
                    <button class="btn btn-primary" ng-click="backToMail();">
                        << Purchased Order Inbox
                    </button>
                </div>
                <div class="col-xs-8">
                    <label>Total Medicine: <strong> {{childPO.cpoList.length}}</strong> </label><br />
                    <label>Vendor : </label>
                    {{childPO.vendorName }}, {{childPO.vendorCompany}}, {{childPO.vendorAddress}}, {{childPO.vendorContact}}
                </div>

            </div>
            <table class="table table-striped table-advance table-hover">
                <thead>
                    <tr>
                        <th>#</th>

                        <th>Name</th>
                        <th>Mfg</th>
                        <th>Qty</th>
                        <th>Batch No.</th>
                        <th>MRP</th>
                        <th>Exp Date</th>
                        <th>Remark</th>

                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in Prepurchased">
                        <td>
                            {{$index + 1}}
                        </td>

                        <td>{{item.Name}}</td>
                        <td>{{item.Mfg}}</td>
                        <td><input type="text" ng-model="item.Qty" class="form-control" placeholder="Qty" /></td>
                        <td><input type="text" ng-model="item.BatchNo" class="form-control" placeholder="batch No" /></td>
                        <td><input type="text" ng-model="item.MRP" class="form-control" placeholder="MRP" /></td>
                        <td><input type="text" ng-model="item.ExpDate" class="form-control" placeholder="Exp Date" /></td>
                        <td><input type="text" ng-model="item.Remark" class="form-control" placeholder="Remarks" /></td>

                    </tr>
                </tbody>
            </table>

            <hr />
            <button class="btn btn-primary" ng-click="onSubmitforCreatePurchased()">
                Submit
            </button>
        </div>
        <div ng-show="isSuccessPOEntry">
            
                <div class="row alert alert-success" ng-show="isSuccessPOEntry">
                    <strong>Success!</strong> {{POmsg}}
                    <br /><br /> <hr />
                    <a class="btn btn-primary" asp-action="Index" asp-controller="Purchased">
                        << Purchsed Inbox
                    </a>
                </div>
                <div class="row alert alert-danger" ng-show="!isSuccessPOEntry">
                    <strong>Error!</strong> {{POmsg}}
                </div>
            
        </div>
    </div>

     
</div>
